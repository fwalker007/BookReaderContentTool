"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PositionPicker=void 0;var react_1=__importDefault(require("react")),mobx_react_lite_1=require("mobx-react-lite"),core_1=require("@blueprintjs/core"),math_1=require("../utils/math");exports.PositionPicker=mobx_react_lite_1.observer((function(e){var t,o=e.store,n=o.selectedElements.length>0,i=o.selectedElements[0],c=(null===(t=o.activePage)||void 0===t?void 0:t.children.indexOf(i))||0,r=o.activePage&&c<o.activePage.children.length-1,l=c>0;return react_1.default.createElement(core_1.Popover,{disabled:!n,content:react_1.default.createElement(core_1.Menu,null,react_1.default.createElement(core_1.Menu.Divider,{title:"Layering"}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"double-chevron-up",text:"To forward",disabled:!r,onClick:function(){i.moveTop()}}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"chevron-up",text:"Up",disabled:!r,onClick:function(){i.moveUp()}}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"chevron-down",text:"Down",disabled:!l,onClick:function(){i.moveDown()}}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"double-chevron-down",text:"To bottom",disabled:!l,onClick:function(){i.moveBottom()}}),react_1.default.createElement(core_1.Menu.Divider,{title:"Position"}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"alignment-top",text:"Align top",onClick:function(){var e=o.height;o.selectedElements.forEach((function(t){e=Math.min(e,math_1.getClientRect(t).y)})),o.selectedElements.forEach((function(t){t.set({y:t.y-e})}))}}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"alignment-left",text:"Align left",onClick:function(){var e=o.width;o.selectedElements.forEach((function(t){e=Math.min(e,math_1.getClientRect(t).x)})),o.selectedElements.forEach((function(t){t.set({x:t.x-e})}))}}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"alignment-right",text:"Align right",onClick:function(){var e=0;o.selectedElements.forEach((function(t){var o=math_1.getClientRect(t);e=Math.max(e,o.x+o.width)})),o.selectedElements.forEach((function(t){math_1.getClientRect(t);t.set({x:t.x+o.width-e})}))}}),react_1.default.createElement(core_1.MenuItem,{shouldDismissPopover:!1,icon:"alignment-bottom",text:"Align bottom",onClick:function(){var e=0;o.selectedElements.forEach((function(t){var o=math_1.getClientRect(t);e=Math.max(e,o.y+o.height)})),o.selectedElements.forEach((function(t){math_1.getClientRect(t);t.set({y:t.y+o.height-e})}))}})),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Button,{icon:"layers",minimal:!0,text:"Position",disabled:!n}))}));