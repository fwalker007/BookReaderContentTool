"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useSnap=void 0;var konva_1=__importDefault(require("konva")),GUIDELINE_OFFSET=5;function getObjectSnappingEdges(t){var n=t.getClientRect(),e=t.getAbsolutePosition();return{vertical:[{guide:n.x,offset:e.x-n.x,snap:"start"},{guide:n.x+n.width/2,offset:e.x-n.x-n.width/2,snap:"center"},{guide:n.x+n.width,offset:e.x-n.x-n.width,snap:"end"}],horizontal:[{guide:n.y,offset:e.y-n.y,snap:"start"},{guide:n.y+n.height/2,offset:e.y-n.y-n.height/2,snap:"center"},{guide:n.y+n.height,offset:e.y-n.y-n.height,snap:"end"}]}}function getGuides(t,n){var e=[],i=[];t.vertical.forEach((function(t){n.vertical.forEach((function(n){var i=Math.abs(t-n.guide);i<GUIDELINE_OFFSET&&e.push({lineGuide:t,diff:i,snap:n.snap,offset:n.offset})}))})),t.horizontal.forEach((function(t){n.horizontal.forEach((function(n){var e=Math.abs(t-n.guide);e<GUIDELINE_OFFSET&&i.push({lineGuide:t,diff:e,snap:n.snap,offset:n.offset})}))}));var o=[],a=e.sort((function(t,n){return t.diff-n.diff}))[0],s=i.sort((function(t,n){return t.diff-n.diff}))[0];return a&&o.push(__assign({orientation:"V"},a)),s&&o.push(__assign(__assign({},s),{orientation:"H"})),o}var warningShowed=!1;function useSnap(t,n){return void 0===n&&(n=!0),warningShowed||(console.warn("Polotno warning: useSnap hook is deprecated. Just stop using it. Polotno will snap objects automatically."),warningShowed=!0),{onDragMove:function(){},onDragEnd:function(){}}}exports.useSnap=useSnap;