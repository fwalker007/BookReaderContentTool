"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.whenLoaded=exports.decrementLoader=exports.incrementLoader=void 0;var use_fadein_1=require("../canvas/use-fadein"),loadCount=0,listeners=[];function incrementLoader(){loadCount+=1}function decrementLoader(){0===(loadCount-=1)&&(listeners.forEach((function(e){return e()})),listeners=[])}function whenLoadedCallback(e){0===loadCount?e():listeners.push(e)}function whenLoaded(){return new Promise((function(e){return whenLoadedCallback((function(){use_fadein_1.isAnimationUsed()?setTimeout(e,300):e(!0)}))}))}exports.incrementLoader=incrementLoader,exports.decrementLoader=decrementLoader,exports.whenLoaded=whenLoaded;