{"ast":null,"code":"import React from 'react';\nimport { Group } from 'react-konva';\nexport var Portal = function Portal(_ref) {\n  var selector = _ref.selector,\n      enabled = _ref.enabled,\n      children = _ref.children;\n  var outer = React.useRef(null);\n  var inner = React.useRef(null);\n  var safeRef = React.useRef();\n  var shouldMove = enabled !== null && enabled !== void 0 ? enabled : true;\n  React.useLayoutEffect(function () {\n    if (!outer.current || !inner.current) {\n      return;\n    }\n\n    safeRef.current = inner.current;\n    var stage = outer.current.getStage();\n    var newContainer = stage.findOne(selector);\n\n    if (shouldMove && newContainer) {\n      inner.current.moveTo(newContainer);\n    } else {\n      inner.current.moveTo(outer.current);\n    }\n\n    outer.current.getLayer().batchDraw();\n\n    if (newContainer) {\n      newContainer.getLayer().batchDraw();\n    }\n  }, [selector, shouldMove]);\n  React.useEffect(function () {\n    return function () {\n      var _a;\n\n      (_a = safeRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n    };\n  }, []);\n  return React.createElement(Group, {\n    name: \"_outer_portal\",\n    ref: outer\n  }, React.createElement(Group, {\n    name: \"_inner_portal\",\n    ref: inner\n  }, children));\n};","map":null,"metadata":{},"sourceType":"module"}