{"ast":null,"code":"\"use strict\";\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (e, t) {\n  return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n    value: t\n  }) : e.raw = t, e;\n},\n    __importDefault = this && this.__importDefault || function (e) {\n  return e && e.__esModule ? e : {\n    default: e\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports.ImagesGrid = void 0;\n\nvar templateObject_1,\n    templateObject_2,\n    templateObject_3,\n    templateObject_4,\n    templateObject_5,\n    templateObject_6,\n    react_1 = __importDefault(require(\"react\")),\n    styled_1 = __importDefault(require(\"./styled\")),\n    core_1 = require(\"@blueprintjs/core\"),\n    ImagesListContainer = styled_1.default(\"div\")(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  height: 100%;\\n  overflow: auto;\\n\"], [\"\\n  height: 100%;\\n  overflow: auto;\\n\"]))),\n    ImagesRow = styled_1.default(\"div\")(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  width: 33%;\\n  float: left;\\n\"], [\"\\n  width: 33%;\\n  float: left;\\n\"]))),\n    ImgWrapDiv = styled_1.default(\"div\")(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  padding: 5px;\\n  width: 100%;\\n  &:hover .credit {\\n    opacity: 1;\\n  }\\n\"], [\"\\n  padding: 5px;\\n  width: 100%;\\n  &:hover .credit {\\n    opacity: 1;\\n  }\\n\"]))),\n    ImgContainerDiv = styled_1.default(\"div\")(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  border-radius: 5px;\\n  position: relative;\\n  overflow: hidden;\\n  box-shadow: \", \";\\n\"], [\"\\n  border-radius: 5px;\\n  position: relative;\\n  overflow: hidden;\\n  box-shadow: \", \";\\n\"])), function (e) {\n  return e[\"data-shadowenabled\"] ? \"0 0 5px rgba(16, 22, 26, 0.3)\" : \"\";\n}),\n    Img = styled_1.default(\"img\")(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  width: 100%;\\n  cursor: pointer;\\n  display: block;\\n\"], [\"\\n  width: 100%;\\n  cursor: pointer;\\n  display: block;\\n\"]))),\n    CreditWrap = styled_1.default(\"div\")(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  font-size: 10px;\\n  padding: 3px;\\n  padding-top: 10px;\\n  text-align: center;\\n  background: linear-gradient(\\n    to bottom,\\n    rgba(0, 0, 0, 0),\\n    rgba(0, 0, 0, 0.4),\\n    rgba(0, 0, 0, 0.6)\\n  );\\n  width: 100%;\\n  opacity: 0;\\n  color: white;\\n\"], [\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  font-size: 10px;\\n  padding: 3px;\\n  padding-top: 10px;\\n  text-align: center;\\n  background: linear-gradient(\\n    to bottom,\\n    rgba(0, 0, 0, 0),\\n    rgba(0, 0, 0, 0.4),\\n    rgba(0, 0, 0, 0.6)\\n  );\\n  width: 100%;\\n  opacity: 0;\\n  color: white;\\n\"]))),\n    Image = function Image(e) {\n  var t = e.url,\n      n = e.credit,\n      a = e.onSelect,\n      r = e.crossOrigin,\n      i = e.shadowEnabled,\n      o = e.itemHeight,\n      l = null == i || i;\n  return react_1.default.createElement(ImgWrapDiv, {\n    onClick: function onClick() {\n      a();\n    }\n  }, react_1.default.createElement(ImgContainerDiv, {\n    \"data-shadowenabled\": l\n  }, react_1.default.createElement(Img, {\n    style: {\n      height: null != o ? o : \"auto\"\n    },\n    src: t,\n    draggable: !0,\n    crossOrigin: r,\n    onDragStart: function onDragStart() {\n      window.__polotnoDrop = function (e) {\n        var t = e.x,\n            n = e.y;\n        a({\n          x: t,\n          y: n\n        });\n      };\n    },\n    onDragEnd: function onDragEnd(e) {\n      window.__polotnoDrop = null;\n    }\n  }), n && react_1.default.createElement(CreditWrap, {\n    className: \"credit\"\n  }, n)));\n},\n    ImagesGrid = function ImagesGrid(e) {\n  for (var t = e.images, n = e.onSelect, a = e.isLoading, r = e.getPreview, i = e.loadMore, o = e.getCredit, l = e.rowsNumber, d = e.crossOrigin, c = e.shadowEnabled, p = e.itemHeight, m = l || 2, s = [], u = 0; u < m; u++) {\n    s.push((t || []).filter(function (e, t) {\n      return t % m === u;\n    }));\n  }\n\n  return react_1.default.createElement(ImagesListContainer, {\n    onScroll: function onScroll(e) {\n      var t = e.target.scrollHeight - e.target.scrollTop - e.target.offsetHeight;\n      i && !a && t < 200 && i();\n    }\n  }, s.map(function (e, t) {\n    return react_1.default.createElement(ImagesRow, {\n      key: t,\n      style: {\n        width: 100 / m + \"%\"\n      }\n    }, e.map(function (e) {\n      return react_1.default.createElement(Image, {\n        url: r(e),\n        onSelect: function onSelect(t) {\n          return n(e, t);\n        },\n        key: r(e),\n        credit: o && o(e),\n        crossOrigin: d,\n        shadowEnabled: c,\n        itemHeight: p\n      });\n    }));\n  }), a && react_1.default.createElement(core_1.Spinner, null));\n};\n\nexports.ImagesGrid = ImagesGrid;","map":null,"metadata":{},"sourceType":"script"}