{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  return (__assign = Object.assign || function (e) {\n    for (var t, n = 1, r = arguments.length; n < r; n++) {\n      for (var o in t = arguments[n]) {\n        Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n      }\n    }\n\n    return e;\n  }).apply(this, arguments);\n},\n    __createBinding = this && this.__createBinding || (Object.create ? function (e, t, n, r) {\n  void 0 === r && (r = n), Object.defineProperty(e, r, {\n    enumerable: !0,\n    get: function get() {\n      return t[n];\n    }\n  });\n} : function (e, t, n, r) {\n  void 0 === r && (r = n), e[r] = t[n];\n}),\n    __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n  Object.defineProperty(e, \"default\", {\n    enumerable: !0,\n    value: t\n  });\n} : function (e, t) {\n  e.default = t;\n}),\n    __importStar = this && this.__importStar || function (e) {\n  if (e && e.__esModule) return e;\n  var t = {};\n  if (null != e) for (var n in e) {\n    \"default\" !== n && Object.prototype.hasOwnProperty.call(e, n) && __createBinding(t, e, n);\n  }\n  return __setModuleDefault(t, e), t;\n},\n    __awaiter = this && this.__awaiter || function (e, t, n, r) {\n  return new (n || (n = Promise))(function (o, i) {\n    function a(e) {\n      try {\n        c(r.next(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function s(e) {\n      try {\n        c(r.throw(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function c(e) {\n      var t;\n      e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n        e(t);\n      })).then(a, s);\n    }\n\n    c((r = r.apply(e, t || [])).next());\n  });\n},\n    __generator = this && this.__generator || function (e, t) {\n  var n,\n      r,\n      o,\n      i,\n      a = {\n    label: 0,\n    sent: function sent() {\n      if (1 & o[0]) throw o[1];\n      return o[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return i = {\n    next: s(0),\n    throw: s(1),\n    return: s(2)\n  }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n    return this;\n  }), i;\n\n  function s(i) {\n    return function (s) {\n      return function (i) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n\n        for (; a;) {\n          try {\n            if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;\n\n            switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {\n              case 0:\n              case 1:\n                o = i;\n                break;\n\n              case 4:\n                return a.label++, {\n                  value: i[1],\n                  done: !1\n                };\n\n              case 5:\n                a.label++, r = i[1], i = [0];\n                continue;\n\n              case 7:\n                i = a.ops.pop(), a.trys.pop();\n                continue;\n\n              default:\n                if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                  a = 0;\n                  continue;\n                }\n\n                if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {\n                  a.label = i[1];\n                  break;\n                }\n\n                if (6 === i[0] && a.label < o[1]) {\n                  a.label = o[1], o = i;\n                  break;\n                }\n\n                if (o && a.label < o[2]) {\n                  a.label = o[2], a.ops.push(i);\n                  break;\n                }\n\n                o[2] && a.ops.pop(), a.trys.pop();\n                continue;\n            }\n\n            i = t.call(e, a);\n          } catch (e) {\n            i = [6, e], r = 0;\n          } finally {\n            n = o = 0;\n          }\n        }\n\n        if (5 & i[0]) throw i[1];\n        return {\n          value: i[0] ? i[1] : void 0,\n          done: !0\n        };\n      }([i, s]);\n    };\n  }\n},\n    __rest = this && this.__rest || function (e, t) {\n  var n = {};\n\n  for (var r in e) {\n    Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);\n  }\n\n  if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n    var o = 0;\n\n    for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) {\n      t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);\n    }\n  }\n\n  return n;\n},\n    __importDefault = this && this.__importDefault || function (e) {\n  return e && e.__esModule ? e : {\n    default: e\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports.createStore = exports.Store = exports.Font = exports.Page = exports.registerShapeModel = exports.SVGElement = exports.ImageElement = exports.TextElement = exports.Element = void 0;\n\nvar mobx_state_tree_1 = require(\"mobx-state-tree\"),\n    undo_manager_1 = require(\"./undo-manager\"),\n    nanoid_1 = require(\"nanoid\"),\n    konva_1 = __importDefault(require(\"konva\")),\n    download_1 = require(\"../utils/download\"),\n    pdf_1 = require(\"../utils/pdf\"),\n    validate_key_1 = require(\"../utils/validate-key\"),\n    fonts = __importStar(require(\"../utils/fonts\")),\n    svg_1 = require(\"../utils/svg\"),\n    loader_1 = require(\"../utils/loader\");\n\nexports.Element = mobx_state_tree_1.types.model(\"Element\", {\n  id: mobx_state_tree_1.types.identifier,\n  type: \"none\",\n  x: 0,\n  y: 0,\n  rotation: 0,\n  opacity: 1,\n  locked: !1,\n  blurEnabled: !1,\n  blurRadius: 10,\n  brightnessEnabled: !1,\n  brightness: 0,\n  sepiaEnabled: !1,\n  grayscaleEnabled: !1,\n  shadowEnabled: !1,\n  shadowBlur: 5,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  shadowColor: \"black\",\n  custom: mobx_state_tree_1.types.frozen()\n}).postProcessSnapshot(function (e) {\n  var t = __assign({}, e),\n      n = {};\n\n  for (var r in t) {\n    \"_\" !== r[0] && (n[r] = e[r]);\n  }\n\n  return n;\n}).views(function (e) {\n  return {\n    get page() {\n      return mobx_state_tree_1.getParentOfType(e, exports.Page);\n    },\n\n    get store() {\n      return mobx_state_tree_1.getParentOfType(e, exports.Store);\n    }\n\n  };\n}).actions(function (e) {\n  return {\n    toJSON: function toJSON() {\n      return __assign({}, mobx_state_tree_1.getSnapshot(e));\n    },\n    clone: function clone(t) {\n      var n = e.toJSON();\n      return t.id = t.id || nanoid_1.nanoid(10), Object.assign(n, t), e.page.addElement(n);\n    },\n    set: function set(t) {\n      Object.assign(e, t);\n    },\n    moveUp: function moveUp() {\n      e.page.moveElementUp(e.id);\n    },\n    moveTop: function moveTop() {\n      e.page.moveElementTop(e.id);\n    },\n    moveDown: function moveDown() {\n      e.page.moveElementDown(e.id);\n    },\n    moveBottom: function moveBottom() {\n      e.page.moveElementBottom(e.id);\n    },\n    beforeDestroy: function beforeDestroy() {\n      e.store.history.endTransaction();\n    }\n  };\n}), exports.TextElement = exports.Element.named(\"Text\").props({\n  type: \"text\",\n  text: \"\",\n  placeholder: \"\",\n  fontSize: 14,\n  fontFamily: \"Roboto\",\n  fontStyle: \"normal\",\n  fontWeight: \"normal\",\n  textDecoration: \"\",\n  fill: \"black\",\n  align: \"center\",\n  width: 100,\n  height: 14,\n  strokeWidth: 0,\n  stroke: \"black\",\n  lineHeight: mobx_state_tree_1.types.optional(mobx_state_tree_1.types.union(mobx_state_tree_1.types.number, mobx_state_tree_1.types.string), 1.2),\n  letterSpacing: 0,\n  _editModeEnabled: !1\n}).actions(function (e) {\n  return {\n    toggleEditMode: function toggleEditMode(t) {\n      e._editModeEnabled = null != t ? t : !e._editModeEnabled, e._editModeEnabled ? e.store.history.startTransaction() : e.store.history.endTransaction();\n    }\n  };\n}), exports.ImageElement = exports.Element.named(\"Image\").props({\n  type: \"image\",\n  width: 100,\n  height: 100,\n  src: \"\",\n  cropX: 0,\n  cropY: 0,\n  cropWidth: 1,\n  cropHeight: 1,\n  flipX: !1,\n  flipY: !1,\n  borderColor: \"black\",\n  borderSize: 0,\n  _cropModeEnabled: !1\n}).actions(function (e) {\n  return {\n    toggleCropMode: function toggleCropMode(t) {\n      e._cropModeEnabled = null != t ? t : !e._cropModeEnabled, e._cropModeEnabled ? e.store.history.startTransaction() : e.store.history.endTransaction();\n    }\n  };\n}), exports.SVGElement = exports.Element.named(\"SVG\").props({\n  type: \"svg\",\n  src: \"\",\n  __svgString: \"\",\n  cropX: 0,\n  cropY: 0,\n  cropWidth: 1,\n  cropHeight: 1,\n  keepRatio: !0,\n  flipX: !1,\n  flipY: !1,\n  width: 100,\n  height: 100,\n  borderColor: \"black\",\n  borderSize: 0,\n  colorsReplace: mobx_state_tree_1.types.map(mobx_state_tree_1.types.string)\n}).preProcessSnapshot(function (e) {\n  return __assign(__assign({}, e), {\n    src: e.src || e.svgSource\n  });\n}).views(function (e) {\n  return {\n    get colors() {\n      return e.__svgString ? svg_1.getColors(e.__svgString) : [];\n    },\n\n    get __finalSrc() {\n      return e.__svgString ? svg_1.replaceColors(e.__svgString, e.colorsReplace) : this.src;\n    },\n\n    get __isLoaded() {\n      return !!e.__svgString && (!(Array.from(e.colorsReplace.keys()).length > 0) || e.__finalSrc !== e.src);\n    }\n\n  };\n}).actions(function (e) {\n  var t = function t() {};\n\n  return {\n    _loadSVG: function _loadSVG() {\n      return __awaiter(this, void 0, void 0, function () {\n        var t;\n        return __generator(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return e.src ? [4, svg_1.urlToString(e.src)] : [2];\n\n            case 1:\n              return t = n.sent(), mobx_state_tree_1.isAlive(e) ? (e.store.history.ignore(function () {\n                e.set({\n                  __svgString: svg_1.fixSize(t)\n                });\n              }), [2]) : [2];\n          }\n        });\n      });\n    },\n    afterCreate: function afterCreate() {\n      return __awaiter(this, void 0, void 0, function () {\n        var n;\n        return __generator(this, function (r) {\n          return e._loadSVG(), n = e.src, t = mobx_state_tree_1.onSnapshot(e, function (t) {\n            t.src === n && e.__svgString || (e._loadSVG(), n = e.src);\n          }), [2];\n        });\n      });\n    },\n    beforeDestroy: function beforeDestroy() {\n      t();\n    },\n    replaceColor: function replaceColor(t, n) {\n      e.colorsReplace.set(t, n);\n    }\n  };\n});\nvar TYPES_MAP = {\n  svg: exports.SVGElement,\n  text: exports.TextElement,\n  image: exports.ImageElement\n},\n    ADDITIONAL_TYPES = [];\n\nfunction registerShapeModel(e) {\n  var t = e.type;\n  if (!t) throw new Error('You must pass \"type\" attribute to custom model.');\n  var n = exports.Element.named(t).props(e);\n  TYPES_MAP[t] = n, ADDITIONAL_TYPES.push(n);\n}\n\nexports.registerShapeModel = registerShapeModel;\nvar ElementTypes = mobx_state_tree_1.types.union({\n  dispatcher: function dispatcher(e) {\n    return TYPES_MAP[e.type];\n  }\n}, exports.SVGElement, exports.TextElement, exports.ImageElement, mobx_state_tree_1.types.late(function () {\n  return ADDITIONAL_TYPES[0];\n}), mobx_state_tree_1.types.late(function () {\n  return ADDITIONAL_TYPES[1];\n})),\n    ChildrenType = mobx_state_tree_1.types.array(ElementTypes);\n\nfunction createStore(e) {\n  var t = void 0 === e ? {\n    key: \"\",\n    showCredit: !1\n  } : e,\n      n = t.key,\n      r = t.showCredit,\n      o = exports.Store.create();\n  return o.__checkKey(n, r), o;\n}\n\nexports.Page = mobx_state_tree_1.types.model(\"Page\", {\n  id: mobx_state_tree_1.types.identifier,\n  children: ChildrenType,\n  background: \"white\",\n  custom: mobx_state_tree_1.types.frozen()\n}).views(function (e) {\n  return {\n    get store() {\n      return mobx_state_tree_1.getParentOfType(e, exports.Store);\n    }\n\n  };\n}).actions(function (e) {\n  return {\n    toJSON: function toJSON() {\n      return __assign({}, mobx_state_tree_1.getSnapshot(e));\n    },\n    clone: function clone(t) {\n      var n = e.children.map(function (e) {\n        var t = e.toJSON();\n        return t.id = nanoid_1.nanoid(10), t;\n      }),\n          r = __assign({\n        id: nanoid_1.nanoid(10),\n        children: n,\n        background: e.background\n      }, t);\n\n      e.store.addPage(r);\n    },\n    set: function set(t) {\n      Object.assign(e, t);\n    },\n    select: function select() {\n      e.store.selectPage(e.id);\n    },\n    addElement: function addElement(t) {\n      var n = TYPES_MAP[t.type];\n\n      if (n) {\n        var r = n.create(__assign({\n          id: nanoid_1.nanoid(10)\n        }, t));\n        return e.children.push(r), e.store.selectElements([r.id]), r;\n      }\n\n      console.error(\"Can not find model with type \" + t.type);\n    },\n    moveElementUp: function moveElementUp(t) {\n      var n = e.children.findIndex(function (e) {\n        return e.id === t;\n      }),\n          r = e.children[n];\n      mobx_state_tree_1.detach(r), e.children.remove(r), e.children.splice(n + 1, 0, r);\n    },\n    moveElementDown: function moveElementDown(t) {\n      var n = e.children.findIndex(function (e) {\n        return e.id === t;\n      }),\n          r = e.children[n];\n      mobx_state_tree_1.detach(r), e.children.remove(r), e.children.splice(n - 1, 0, r);\n    },\n    moveElementTop: function moveElementTop(t) {\n      var n = e.children.findIndex(function (e) {\n        return e.id === t;\n      }),\n          r = e.children[n];\n      mobx_state_tree_1.detach(r), e.children.remove(r), e.children.push(r);\n    },\n    moveElementBottom: function moveElementBottom(t) {\n      var n = e.children.findIndex(function (e) {\n        return e.id === t;\n      }),\n          r = e.children[n];\n      mobx_state_tree_1.detach(r), e.children.remove(r), e.children.splice(0, 0, r);\n    }\n  };\n}), exports.Font = mobx_state_tree_1.types.model(\"Font\", {\n  fontFamily: mobx_state_tree_1.types.string,\n  url: mobx_state_tree_1.types.optional(mobx_state_tree_1.types.string, \"\"),\n  styles: mobx_state_tree_1.types.frozen()\n}).preProcessSnapshot(function (e) {\n  return __assign(__assign({}, e), {\n    fontFamily: e.fontFamily || e.name\n  });\n}), exports.Store = mobx_state_tree_1.types.model(\"Store\", {\n  pages: mobx_state_tree_1.types.array(exports.Page),\n  fonts: mobx_state_tree_1.types.array(exports.Font),\n  width: 1080,\n  height: 1080,\n  scale: 1,\n  scaleToFit: 1,\n  selectedElementsIds: mobx_state_tree_1.types.array(mobx_state_tree_1.types.string),\n  history: mobx_state_tree_1.types.optional(undo_manager_1.UndoManager, {\n    targetPath: \"../pages\"\n  }),\n  _showCredit: !1,\n  _activePageId: \"\"\n}).views(function (e) {\n  return {\n    get selectedElements() {\n      return e.selectedElementsIds.map(function (t) {\n        for (var n = 0, r = e.pages; n < r.length; n++) {\n          for (var o = 0, i = r[n].children; o < i.length; o++) {\n            var a = i[o];\n            if (a.id === t) return a;\n          }\n        }\n      }).filter(function (e) {\n        return !!e;\n      });\n    },\n\n    get activePage() {\n      return e.pages.slice().find(function (t) {\n        return t.id === e._activePageId;\n      }) || (e.pages.length ? e.pages[0] : null);\n    }\n\n  };\n}).actions(function (e) {\n  return {\n    __checkKey: function __checkKey(t, n) {\n      return __awaiter(this, void 0, void 0, function () {\n        var r;\n        return __generator(this, function (o) {\n          switch (o.label) {\n            case 0:\n              return [4, validate_key_1.validateKey(t)];\n\n            case 1:\n              return r = o.sent(), e.__(r, n), [2];\n          }\n        });\n      });\n    },\n    __: function __(t, n) {\n      e._showCredit = !t || n;\n    },\n    getElementById: function getElementById(t) {\n      for (var n = 0, r = e.pages; n < r.length; n++) {\n        for (var o = 0, i = r[n].children; o < i.length; o++) {\n          var a = i[o];\n          if (a.id === t) return a;\n        }\n      }\n    },\n    addPage: function addPage(t) {\n      var n = exports.Page.create(__assign({\n        id: nanoid_1.nanoid(10)\n      }, t));\n      return e.pages.push(n), e._activePageId = n.id, n;\n    },\n    selectPage: function selectPage(t) {\n      e._activePageId = t;\n    },\n    selectElements: function selectElements(t) {\n      e.selectedElementsIds = mobx_state_tree_1.cast(t);\n    },\n    setScale: function setScale(t) {\n      e.scale = t;\n    },\n    _setScaleToFit: function _setScaleToFit(t) {\n      e.scaleToFit = t;\n    },\n    setSize: function setSize(t, n, r) {\n      if (r) for (var o = t / e.width, i = n / e.height, a = (Math.min(o, i), 0), s = e.pages; a < s.length; a++) {\n        for (var c = 0, _ = s[a].children; c < _.length; c++) {\n          var l = _[c];\n          l.set({\n            x: l.x * o,\n            y: l.y * i\n          }), \"text\" === l.type ? l.set({\n            fontSize: l.fontSize * o,\n            width: l.width * o\n          }) : l.set({\n            width: l.width * o,\n            height: l.height * i\n          });\n        }\n      }\n      e.width = t, e.height = n;\n    },\n    deletePages: function deletePages(t) {\n      t.forEach(function (t) {\n        var n = e.pages.find(function (e) {\n          return e.id === t;\n        });\n        mobx_state_tree_1.destroy(n);\n      });\n    },\n    deleteElements: function deleteElements(t) {\n      t.forEach(function (t) {\n        e.pages.forEach(function (e) {\n          var n = e.children.find(function (e) {\n            return e.id === t;\n          });\n          n && mobx_state_tree_1.destroy(n);\n        });\n      }), e.selectedElementsIds = mobx_state_tree_1.cast([]);\n    },\n    on: function on(t, n) {\n      if (\"change\" === t) return mobx_state_tree_1.onSnapshot(e, function (e) {\n        n(e);\n      });\n    },\n    toDataURL: function toDataURL(t) {\n      var n = void 0 === t ? {} : t,\n          r = n.pixelRatio,\n          o = n.ignoreBackground,\n          i = n.pageId,\n          a = n.mimeType,\n          s = r || 1,\n          c = konva_1.default.stages.find(function (e) {\n        return e.getAttr(\"pageId\") === i;\n      }) || konva_1.default.stages[0];\n      if (!c) throw new Error(\"Export is failed. Looks like <Workspace /> component is not mounted, but it is required in order to process the export.\");\n\n      var _ = c.findOne(\".page-container\");\n\n      c.find(\"Transformer\").forEach(function (e) {\n        return e.visible(!1);\n      }), _.findOne(\".page-background\").shadowEnabled(!1), _.findOne(\".page-background\").strokeEnabled(!1), _.find(\".highlighter\").forEach(function (e) {\n        return e.visible(!1);\n      }), o && _.findOne(\".page-background\").hide();\n\n      var l = _.toDataURL({\n        x: _.x(),\n        y: _.y(),\n        width: e.width * _.scaleX(),\n        height: e.height * _.scaleY(),\n        pixelRatio: 1 / _.scaleX() * s,\n        mimeType: a\n      });\n\n      return o && _.findOne(\".page-background\").show(), _.findOne(\".page-background\").shadowEnabled(!0), _.findOne(\".page-background\").strokeEnabled(!0), c.find(\"Transformer\").forEach(function (e) {\n        return e.visible(!0);\n      }), _.find(\".highlighter\").forEach(function (e) {\n        return e.visible(!0);\n      }), l;\n    },\n    saveAsImage: function saveAsImage(t) {\n      void 0 === t && (t = {});\n\n      var n = t.fileName,\n          r = __rest(t, [\"fileName\"]),\n          o = r.mimeType || \"image/png\",\n          i = o.split(\"/\")[1];\n\n      download_1.downloadFile(e.toDataURL(r), n || \"polotno.\" + i, o);\n    },\n    _toPDF: function _toPDF(t) {\n      return __awaiter(this, void 0, void 0, function () {\n        var n, r, o, i;\n        return __generator(this, function (a) {\n          switch (a.label) {\n            case 0:\n              return [4, pdf_1.getJsPDF()];\n\n            case 1:\n              return n = a.sent(), r = new n({\n                unit: \"px\",\n                orientation: e.width > e.height ? \"landscape\" : \"portrait\",\n                format: [e.width, e.height]\n              }), o = r.internal.pageSize.getWidth(), i = r.internal.pageSize.getHeight(), r.addImage(e.toDataURL(t), 0, 0, o, i), [2, r];\n          }\n        });\n      });\n    },\n    toPDFDataURL: function toPDFDataURL(t) {\n      return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, e._toPDF(t)];\n\n            case 1:\n              return [2, n.sent().output(\"datauristring\")];\n          }\n        });\n      });\n    },\n    saveAsPDF: function saveAsPDF(t) {\n      void 0 === t && (t = {});\n\n      var n = t.fileName,\n          r = __rest(t, [\"fileName\"]);\n\n      return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return [4, e._toPDF(r)];\n\n            case 1:\n              return t.sent().save(n || \"polotno.pdf\"), [2];\n          }\n        });\n      });\n    },\n    waitLoading: function waitLoading() {\n      return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (e) {\n          switch (e.label) {\n            case 0:\n              return [4, loader_1.whenLoaded()];\n\n            case 1:\n              return e.sent(), [2];\n          }\n        });\n      });\n    },\n    toJSON: function toJSON() {\n      return {\n        width: e.width,\n        height: e.height,\n        fonts: mobx_state_tree_1.getSnapshot(e.fonts),\n        pages: mobx_state_tree_1.getSnapshot(e.pages)\n      };\n    },\n    loadJSON: function loadJSON(t) {\n      var n;\n      e.pages.forEach(function (e) {\n        return e.children.forEach(function (e) {\n          return mobx_state_tree_1.detach(e);\n        });\n      }), e.pages = mobx_state_tree_1.cast([]), t._activePageId = null === (n = t.pages[0]) || void 0 === n ? void 0 : n.id, t.scale = e.scale, t._isKeyValid = e._isKeyValid, mobx_state_tree_1.applySnapshot(e, t);\n    },\n    addFont: function addFont(t) {\n      e.removeFont(t.fontFamily), e.fonts.push(t), e.loadFont(t.fontFamily);\n    },\n    removeFont: function removeFont(t) {\n      e.fonts.filter(function (e) {\n        return e.fontFamily === t;\n      }).forEach(function (e) {\n        return mobx_state_tree_1.destroy(e);\n      });\n    },\n    loadFont: function loadFont(t) {\n      return __awaiter(this, void 0, void 0, function () {\n        var n;\n        return __generator(this, function (r) {\n          switch (r.label) {\n            case 0:\n              return (n = e.fonts.find(function (e) {\n                return e.fontFamily === t;\n              })) ? fonts.injectCustomFont(n) : fonts.injectGoogleFont(t), [4, fonts.loadFont(t)];\n\n            case 1:\n              return r.sent(), [2];\n          }\n        });\n      });\n    }\n  };\n}), exports.createStore = createStore, exports.default = createStore;","map":null,"metadata":{},"sourceType":"script"}