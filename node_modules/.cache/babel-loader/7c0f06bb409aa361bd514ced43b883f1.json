{"ast":null,"code":"import _defineProperty from \"D:\\\\Development\\\\Encantos\\\\RandD\\\\Polotno\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"D:\\\\Development\\\\Encantos\\\\RandD\\\\Polotno\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Development\\\\Encantos\\\\RandD\\\\Polotno\\\\src\\\\preview.js\";\n\nimport React from \"react\";\nimport { Navbar, Button } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react-lite\";\nexport var Preview = observer(function (_ref) {\n  var _ref2;\n\n  var store = _ref.store;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      previewVisible = _React$useState2[0],\n      setPreviewVisible = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      content = _React$useState4[0],\n      setContent = _React$useState4[1];\n\n  React.useEffect(function () {\n    // when loading for all fonts\n    store.waitLoading().then(function () {\n      setContent(store.toDataURL({\n        ignoreBackground: true\n      }));\n    });\n    store.on(\"change\", function () {\n      setContent(store.toDataURL({\n        ignoreBackground: true\n      }));\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: (_ref2 = {\n      position: \"fixed\",\n      bottom: \"20px\",\n      right: 0,\n      zIndex: 10\n    }, _defineProperty(_ref2, \"zIndex\", 10000), _defineProperty(_ref2, \"transformOrigin\", \"top left\"), _defineProperty(_ref2, \"background\", \"white\"), _defineProperty(_ref2, \"border\", \"1px solid rgba(16, 22, 26, 0.2)\"), _defineProperty(_ref2, \"borderRadius\", \"5px\"), _defineProperty(_ref2, \"overflow\", \"hidden\"), _ref2),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Group, {\n    align: \"right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, previewVisible && /*#__PURE__*/React.createElement(Button, {\n    icon: \"eye-off\",\n    minimal: true,\n    onClick: function onClick() {\n      setPreviewVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Hide preview\"), !previewVisible && /*#__PURE__*/React.createElement(Button, {\n    icon: \"eye-on\",\n    minimal: true,\n    onClick: function onClick() {\n      setPreviewVisible(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Show preview\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"preview-container\",\n    style: {\n      display: previewVisible ? \"\" : \"none\",\n      position: \"relative\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./book-cover.jpeg\",\n    style: {\n      width: \"300px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: content,\n    style: {\n      position: \"absolute\",\n      top: \"35px\",\n      left: \"80px\",\n      width: \"150px\",\n      border: \"1px solid lightgrey\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })));\n});","map":{"version":3,"sources":["D:/Development/Encantos/RandD/Polotno/src/preview.js"],"names":["React","Navbar","Button","observer","Preview","store","useState","previewVisible","setPreviewVisible","content","setContent","useEffect","waitLoading","then","toDataURL","ignoreBackground","on","position","bottom","right","zIndex","display","width","top","left","border"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Navbar, Button } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react-lite\";\n\nexport const Preview = observer(({ store }) => {\n  const [previewVisible, setPreviewVisible] = React.useState(true);\n  const [content, setContent] = React.useState(\"\");\n\n  React.useEffect(() => {\n    // when loading for all fonts\n    store.waitLoading().then(() => {\n      setContent(store.toDataURL({ ignoreBackground: true }));\n    });\n    store.on(\"change\", () => {\n      setContent(store.toDataURL({ ignoreBackground: true }));\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        bottom: \"20px\",\n        right: 0,\n        zIndex: 10,\n        zIndex: 10000,\n        transformOrigin: \"top left\",\n        background: \"white\",\n        border: \"1px solid rgba(16, 22, 26, 0.2)\",\n        borderRadius: \"5px\",\n        overflow: \"hidden\"\n      }}\n    >\n      <Navbar>\n        <Navbar.Group align=\"right\">\n          {previewVisible && (\n            <Button\n              icon=\"eye-off\"\n              minimal\n              onClick={() => {\n                setPreviewVisible(false);\n              }}\n            >\n              Hide preview\n            </Button>\n          )}\n          {!previewVisible && (\n            <Button\n              icon=\"eye-on\"\n              minimal\n              onClick={() => {\n                setPreviewVisible(true);\n              }}\n            >\n              Show preview\n            </Button>\n          )}\n        </Navbar.Group>\n      </Navbar>\n      <div\n        className=\"preview-container\"\n        style={{ display: previewVisible ? \"\" : \"none\", position: \"relative\" }}\n      >\n        <img src=\"./book-cover.jpeg\" style={{ width: \"300px\" }} />\n        <img\n          src={content}\n          style={{\n            position: \"absolute\",\n            top: \"35px\",\n            left: \"80px\",\n            width: \"150px\",\n            border: \"1px solid lightgrey\"\n          }}\n        />\n      </div>\n    </div>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}